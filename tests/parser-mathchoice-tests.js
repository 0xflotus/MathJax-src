import {ParserTest} from './parser-tests.js';


class ParserMathchoiceTest extends ParserTest {

  constructor() {
    super();
  }

}

let parserTest = new ParserMathchoiceTest();

parserTest.runTest(
  'Modulo', 'a\\mod b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mspace",
         "texClass": 0,
         "attributes": {"width": "18mu"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0},
         "properties": {},
         "childNodes": [],
         "isSpacelike": true},
        {"kind": "mi",
         "texClass": 1,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0},
         "properties": {"autoOP": true},
         "childNodes": [
           {"kind": "text",
            "text": "mod"}]},
        {"kind": "mspace",
         "texClass": 0,
         "attributes": {"width": "thinmathspace"},
         "inherited": {"displaystyle": true,
            "scriptlevel": 0},
          "properties": {"scriptlevel": 0},
          "childNodes": [],
          "isSpacelike": true},
        {"kind": "mspace",
          "texClass": 0,
          "attributes": {"width": "thinmathspace"},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0},
          "properties": {"scriptlevel": 0},
          "childNodes": [],
          "isSpacelike": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Modulo Sub0', 'X_{a\\mod b}',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "msub",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0},
         "properties": {},
         "childNodes": [
           {"kind": "mi",
            "texClass": 0,
            "attributes": {},
            "inherited": {"displaystyle": true,
                          "scriptlevel": 0,
                          "mathvariant": "italic"},
            "properties": {},
            "childNodes": [
              {"kind": "text",
               "text": "X"}]},
           {"kind": "TeXAtom",
            "texClass": 0,
            "attributes": {},
            "inherited": {"displaystyle": false,
                          "scriptlevel": 1},
            "properties": {"texprimestyle": true},
            "childNodes": [
              {"kind": "mrow",
               "texClass": 0,
               "attributes": {},
               "inherited": {"displaystyle": false,
                             "scriptlevel": 1},
               "properties": {"texprimestyle": true},
               "childNodes": [
                 {"kind": "mi",
                  "texClass": 0,
                  "attributes": {},
                  "inherited": {"displaystyle": false,
                                "scriptlevel": 1,
                                "mathvariant": "italic"},
                  "properties": {"texprimestyle": true},
                  "childNodes": [
                    {"kind": "text",
                     "text": "a"}]},
                 {"kind": "mspace",
                  "texClass": 0,
                  "attributes": {"width": "12mu"},
                  "inherited": {"displaystyle": false,
                        "scriptlevel": 1},
                      "properties": {"texprimestyle": true},
                      "childNodes": [],
                      "isSpacelike": true},
                    {"kind": "mi",
                      "texClass": 1,
                      "attributes": {},
                      "inherited": {"displaystyle": false,
                        "scriptlevel": 1},
                      "properties": {"texprimestyle": true,
                        "autoOP": true},
                      "childNodes": [
                        {"kind": "text",
                          "text": "mod"}]},
                    {"kind": "mspace",
                      "texClass": 0,
                      "attributes": {"width": "thinmathspace"},
                      "inherited": {"displaystyle": false,
                        "scriptlevel": 1},
                      "properties": {"scriptlevel": 0,
                        "texprimestyle": true},
                      "childNodes": [],
                      "isSpacelike": true},
                    {"kind": "mspace",
                      "texClass": 0,
                      "attributes": {"width": "thinmathspace"},
                      "inherited": {"displaystyle": false,
                        "scriptlevel": 1},
                      "properties": {"scriptlevel": 0,
                        "texprimestyle": true},
                      "childNodes": [],
                      "isSpacelike": true},
                    {"kind": "mi",
                      "texClass": 0,
                      "attributes": {},
                      "inherited": {"displaystyle": false,
                        "scriptlevel": 1,
                        "mathvariant": "italic"},
                      "properties": {"texprimestyle": true},
                      "childNodes": [
                        {"kind": "text",
                          "text": "b"}]}],
                  "isInferred": true}]}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Modulo Sub1', 'X_{1_{a\\mod b}}',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "msub",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0},
         "properties": {},
         "childNodes": [
           {"kind": "mi",
            "texClass": 0,
            "attributes": {},
            "inherited": {"displaystyle": true,
                          "scriptlevel": 0,
                          "mathvariant": "italic"},
            "properties": {},
            "childNodes": [
              {"kind": "text",
               "text": "X"}]},
           {"kind": "TeXAtom",
            "texClass": 0,
            "attributes": {},
            "inherited": {"displaystyle": false,
                          "scriptlevel": 1},
            "properties": {"texprimestyle": true},
            "childNodes": [
              {"kind": "mrow",
               "texClass": -1,
               "attributes": {},
               "inherited": {"displaystyle": false,
                             "scriptlevel": 1},
               "properties": {"texprimestyle": true},
               "childNodes": [
                 {"kind": "msub",
                  "texClass": -1,
                  "attributes": {},
                  "inherited": {"displaystyle": false,
                                "scriptlevel": 1},
                  "properties": {"texprimestyle": true},
                  "childNodes": [
                    {"kind": "mn",
                     "texClass": 0,
                     "attributes": {},
                     "inherited": {"displaystyle": false,
                                   "scriptlevel": 1},
                     "properties": {"texprimestyle": true},
                     "childNodes": [
                       {"kind": "text",
                        "text": "1"}]},
                    {"kind": "TeXAtom",
                     "texClass": 0,
                     "attributes": {},
                     "inherited": {"displaystyle": false,
                                   "scriptlevel": 2},
                     "properties": {"texprimestyle": true},
                     "childNodes": [
                       {"kind": "mrow",
                        "texClass": 0,
                        "attributes": {},
                        "inherited": {"displaystyle": false,
                                "scriptlevel": 2},
                              "properties": {"texprimestyle": true},
                              "childNodes": [
                                {"kind": "mi",
                                  "texClass": 0,
                                  "attributes": {},
                                  "inherited": {"displaystyle": false,
                                    "scriptlevel": 2,
                                    "mathvariant": "italic"},
                                  "properties": {"texprimestyle": true},
                                  "childNodes": [
                                    {"kind": "text",
                                      "text": "a"}]},
                                {"kind": "mspace",
                                  "texClass": 0,
                                  "attributes": {"width": "12mu"},
                                  "inherited": {"displaystyle": false,
                                    "scriptlevel": 2},
                                  "properties": {"texprimestyle": true},
                                  "childNodes": [],
                                  "isSpacelike": true},
                                {"kind": "mi",
                                  "texClass": 1,
                                  "attributes": {},
                                  "inherited": {"displaystyle": false,
                                    "scriptlevel": 2},
                                  "properties": {"texprimestyle": true,
                                    "autoOP": true},
                                  "childNodes": [
                                    {"kind": "text",
                                      "text": "mod"}]},
                                {"kind": "mspace",
                                  "texClass": 0,
                                  "attributes": {"width": "thinmathspace"},
                                  "inherited": {"displaystyle": false,
                                    "scriptlevel": 2},
                                  "properties": {"scriptlevel": 0,
                                    "texprimestyle": true},
                                  "childNodes": [],
                                  "isSpacelike": true},
                                {"kind": "mspace",
                                  "texClass": 0,
                                  "attributes": {"width": "thinmathspace"},
                                  "inherited": {"displaystyle": false,
                                    "scriptlevel": 2},
                                  "properties": {"scriptlevel": 0,
                                    "texprimestyle": true},
                                  "childNodes": [],
                                  "isSpacelike": true},
                                {"kind": "mi",
                                  "texClass": 0,
                                  "attributes": {},
                                  "inherited": {"displaystyle": false,
                                    "scriptlevel": 2,
                                    "mathvariant": "italic"},
                                  "properties": {"texprimestyle": true},
                                  "childNodes": [
                                    {"kind": "text",
                                      "text": "b"}]}],
                              "isInferred": true}]}]}],
                  "isInferred": true}]}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Modulo Sub2', 'X_{1_{2_{a\\mod b}}}',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "msub",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0},
         "properties": {},
         "childNodes": [
           {"kind": "mi",
            "texClass": 0,
            "attributes": {},
            "inherited": {"displaystyle": true,
                          "scriptlevel": 0,
                          "mathvariant": "italic"},
            "properties": {},
            "childNodes": [
              {"kind": "text",
               "text": "X"}]},
           {"kind": "TeXAtom",
            "texClass": 0,
            "attributes": {},
            "inherited": {"displaystyle": false,
                          "scriptlevel": 1},
            "properties": {"texprimestyle": true},
            "childNodes": [
              {"kind": "mrow",
               "texClass": -1,
               "attributes": {},
               "inherited": {"displaystyle": false,
                             "scriptlevel": 1},
               "properties": {"texprimestyle": true},
               "childNodes": [
                 {"kind": "msub",
                  "texClass": -1,
                  "attributes": {},
                  "inherited": {"displaystyle": false,
                                "scriptlevel": 1},
                  "properties": {"texprimestyle": true},
                  "childNodes": [
                    {"kind": "mn",
                     "texClass": 0,
                     "attributes": {},
                     "inherited": {"displaystyle": false,
                                   "scriptlevel": 1},
                     "properties": {"texprimestyle": true},
                     "childNodes": [
                       {"kind": "text",
                        "text": "1"}]},
                    {"kind": "TeXAtom",
                     "texClass": 0,
                     "attributes": {},
                     "inherited": {"displaystyle": false,
                                   "scriptlevel": 2},
                     "properties": {"texprimestyle": true},
                     "childNodes": [
                       {"kind": "mrow",
                        "texClass": -1,
                        "attributes": {},
                        "inherited": {"displaystyle": false,
                                      "scriptlevel": 2},
                        "properties": {"texprimestyle": true},
                        "childNodes": [
                          {"kind": "msub",
                           "texClass": -1,
                           "attributes": {},
                           "inherited": {"displaystyle": false,
                                         "scriptlevel": 2},
                           "properties": {"texprimestyle": true},
                           "childNodes": [
                             {"kind": "mn",
                                      "texClass": 0,
                                      "attributes": {},
                                      "inherited": {"displaystyle": false,
                                        "scriptlevel": 2},
                                      "properties": {"texprimestyle": true},
                                      "childNodes": [
                                        {"kind": "text",
                                          "text": "2"}]},
                                    {"kind": "TeXAtom",
                                      "texClass": 0,
                                      "attributes": {},
                                      "inherited": {"displaystyle": false,
                                        "scriptlevel": 3},
                                      "properties": {"texprimestyle": true},
                                      "childNodes": [
                                        {"kind": "mrow",
                                          "texClass": 0,
                                          "attributes": {},
                                          "inherited": {"displaystyle": false,
                                            "scriptlevel": 3},
                                          "properties": {"texprimestyle": true},
                                          "childNodes": [
                                            {"kind": "mi",
                                              "texClass": 0,
                                              "attributes": {},
                                              "inherited": {"displaystyle": false,
                                                "scriptlevel": 3,
                                                "mathvariant": "italic"},
                                              "properties": {"texprimestyle": true},
                                              "childNodes": [
                                                {"kind": "text",
                                                  "text": "a"}]},
                                            {"kind": "mspace",
                                              "texClass": 0,
                                              "attributes": {"width": "12mu"},
                                              "inherited": {"displaystyle": false,
                                                "scriptlevel": 3},
                                              "properties": {"texprimestyle": true},
                                              "childNodes": [],
                                              "isSpacelike": true},
                                            {"kind": "mi",
                                              "texClass": 1,
                                              "attributes": {},
                                              "inherited": {"displaystyle": false,
                                                "scriptlevel": 3},
                                              "properties": {"texprimestyle": true,
                                                "autoOP": true},
                                              "childNodes": [
                                                {"kind": "text",
                                                  "text": "mod"}]},
                                            {"kind": "mspace",
                                              "texClass": 0,
                                              "attributes": {"width": "thinmathspace"},
                                              "inherited": {"displaystyle": false,
                                                "scriptlevel": 3},
                                              "properties": {"scriptlevel": 0,
                                                "texprimestyle": true},
                                              "childNodes": [],
                                              "isSpacelike": true},
                                            {"kind": "mspace",
                                              "texClass": 0,
                                              "attributes": {"width": "thinmathspace"},
                                              "inherited": {"displaystyle": false,
                                                "scriptlevel": 3},
                                              "properties": {"scriptlevel": 0,
                                                "texprimestyle": true},
                                              "childNodes": [],
                                              "isSpacelike": true},
                                            {"kind": "mi",
                                              "texClass": 0,
                                              "attributes": {},
                                              "inherited": {"displaystyle": false,
                                                "scriptlevel": 3,
                                                "mathvariant": "italic"},
                                              "properties": {"texprimestyle": true},
                                              "childNodes": [
                                                {"kind": "text",
                                                  "text": "b"}]}],
                                          "isInferred": true}]}]}],
                              "isInferred": true}]}]}],
                  "isInferred": true}]}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Modulo Sub3', 'X_{1_{2_{3_{a\\mod b}}}}',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "msub",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0},
         "properties": {},
         "childNodes": [
           {"kind": "mi",
            "texClass": 0,
            "attributes": {},
            "inherited": {"displaystyle": true,
                          "scriptlevel": 0,
                          "mathvariant": "italic"},
            "properties": {},
            "childNodes": [
              {"kind": "text",
               "text": "X"}]},
           {"kind": "TeXAtom",
            "texClass": 0,
            "attributes": {},
            "inherited": {"displaystyle": false,
                          "scriptlevel": 1},
            "properties": {"texprimestyle": true},
            "childNodes": [
              {"kind": "mrow",
               "texClass": -1,
               "attributes": {},
               "inherited": {"displaystyle": false,
                             "scriptlevel": 1},
               "properties": {"texprimestyle": true},
               "childNodes": [
                 {"kind": "msub",
                  "texClass": -1,
                  "attributes": {},
                  "inherited": {"displaystyle": false,
                                "scriptlevel": 1},
                  "properties": {"texprimestyle": true},
                  "childNodes": [
                    {"kind": "mn",
                     "texClass": 0,
                     "attributes": {},
                     "inherited": {"displaystyle": false,
                                   "scriptlevel": 1},
                     "properties": {"texprimestyle": true},
                     "childNodes": [
                       {"kind": "text",
                        "text": "1"}]},
                    {"kind": "TeXAtom",
                     "texClass": 0,
                     "attributes": {},
                     "inherited": {"displaystyle": false,
                                   "scriptlevel": 2},
                     "properties": {"texprimestyle": true},
                     "childNodes": [
                       {"kind": "mrow",
                        "texClass": -1,
                        "attributes": {},
                        "inherited": {"displaystyle": false,
                                      "scriptlevel": 2},
                        "properties": {"texprimestyle": true},
                        "childNodes": [
                          {"kind": "msub",
                           "texClass": -1,
                           "attributes": {},
                           "inherited": {"displaystyle": false,
                                         "scriptlevel": 2},
                           "properties": {"texprimestyle": true},
                           "childNodes": [
                             {"kind": "mn",
                              "texClass": 0,
                              "attributes": {},
                              "inherited": {"displaystyle": false,
                                            "scriptlevel": 2},
                              "properties": {"texprimestyle": true},
                              "childNodes": [
                                {"kind": "text",
                                 "text": "2"}]},
                             {"kind": "TeXAtom",
                              "texClass": 0,
                              "attributes": {},
                                      "inherited": {"displaystyle": false,
                                        "scriptlevel": 3},
                                      "properties": {"texprimestyle": true},
                                      "childNodes": [
                                        {"kind": "mrow",
                                          "texClass": -1,
                                          "attributes": {},
                                          "inherited": {"displaystyle": false,
                                            "scriptlevel": 3},
                                          "properties": {"texprimestyle": true},
                                          "childNodes": [
                                            {"kind": "msub",
                                              "texClass": -1,
                                              "attributes": {},
                                              "inherited": {"displaystyle": false,
                                                "scriptlevel": 3},
                                              "properties": {"texprimestyle": true},
                                              "childNodes": [
                                                {"kind": "mn",
                                                  "texClass": 0,
                                                  "attributes": {},
                                                  "inherited": {"displaystyle": false,
                                                    "scriptlevel": 3},
                                                  "properties": {"texprimestyle": true},
                                                  "childNodes": [
                                                    {"kind": "text",
                                                      "text": "3"}]},
                                                {"kind": "TeXAtom",
                                                  "texClass": 0,
                                                  "attributes": {},
                                                  "inherited": {"displaystyle": false,
                                                    "scriptlevel": 4},
                                                  "properties": {"texprimestyle": true},
                                                  "childNodes": [
                                                    {"kind": "mrow",
                                                      "texClass": 0,
                                                      "attributes": {},
                                                      "inherited": {"displaystyle": false,
                                                        "scriptlevel": 4},
                                                      "properties": {"texprimestyle": true},
                                                      "childNodes": [
                                                        {"kind": "mi",
                                                          "texClass": 0,
                                                          "attributes": {},
                                                          "inherited": {"displaystyle": false,
                                                            "scriptlevel": 4,
                                                            "mathvariant": "italic"},
                                                          "properties": {"texprimestyle": true},
                                                          "childNodes": [
                                                            {"kind": "text",
                                                              "text": "a"}]},
                                                        {"kind": "mspace",
                                                          "texClass": 0,
                                                          "attributes": {"width": "12mu"},
                                                          "inherited": {"displaystyle": false,
                                                            "scriptlevel": 4},
                                                          "properties": {"texprimestyle": true},
                                                          "childNodes": [],
                                                          "isSpacelike": true},
                                                        {"kind": "mi",
                                                          "texClass": 1,
                                                          "attributes": {},
                                                          "inherited": {"displaystyle": false,
                                                            "scriptlevel": 4},
                                                          "properties": {"texprimestyle": true,
                                                            "autoOP": true},
                                                          "childNodes": [
                                                            {"kind": "text",
                                                              "text": "mod"}]},
                                                        {"kind": "mspace",
                                                          "texClass": 0,
                                                          "attributes": {"width": "thinmathspace"},
                                                          "inherited": {"displaystyle": false,
                                                            "scriptlevel": 4},
                                                          "properties": {"scriptlevel": 0,
                                                            "texprimestyle": true},
                                                          "childNodes": [],
                                                          "isSpacelike": true},
                                                        {"kind": "mspace",
                                                          "texClass": 0,
                                                          "attributes": {"width": "thinmathspace"},
                                                          "inherited": {"displaystyle": false,
                                                            "scriptlevel": 4},
                                                          "properties": {"scriptlevel": 0,
                                                            "texprimestyle": true},
                                                          "childNodes": [],
                                                          "isSpacelike": true},
                                                        {"kind": "mi",
                                                          "texClass": 0,
                                                          "attributes": {},
                                                          "inherited": {"displaystyle": false,
                                                            "scriptlevel": 4,
                                                            "mathvariant": "italic"},
                                                          "properties": {"texprimestyle": true},
                                                          "childNodes": [
                                                            {"kind": "text",
                                                              "text": "b"}]}],
                                                      "isInferred": true}]}]}],
                                          "isInferred": true}]}]}],
                              "isInferred": true}]}]}],
                  "isInferred": true}]}]}],
      "isInferred": true}]}
);
